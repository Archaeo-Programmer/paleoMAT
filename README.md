# paleomat: Application of the Modern Analog Technique for Paleoclimate Reconstruction

`paleomat` is an *R* package implementing functions to perform
temporal paleoclimate reconstruction from pollen using the
MAT (Modern Analog Technique).

This is the official R package for [paleomat](https://github.com/Archaeo-Programmer/paleomat), 
which contains all code associated with the analyses described and presented, including figures and tables, in Gillreath-Brown et al. 2022 (submitted): 

Gillreath-Brown, A., R. K. Bocinsky, and T. A. Kohler (2022). A Low-Frequency Summer Temperature Reconstruction for the United 
    States Southwest, 3000 BC â€“ AD 2000. Submitted to *The Holocene* for review.

## Installation

You can install paleomat from GitHub with these lines of R code (Windows users are recommended to install a separate program, Rtools, before proceeding with this step):

``` r
if (!require("devtools")) install.packages("devtools")
devtools::install_github("Archaeo-Programmer/paleomat")
```

## Repository Contents

The [:file\_folder: vignettes](vignettes) directory contains:

  - [:page\_facing\_up: UUSS_MAT_Reconstruction](vignettes/UUSS_MAT_Reconstruction.Rmd): R
    Markdown document for the entire analyses.
  - [:page\_facing\_up: Paleomat_Figures](vignettes/Paleomat_Figures.Rmd): R
    Markdown document that includes code to reproduce the figures and tables 
    generated by the analysis. It also has a rendered version, `Paleomat-Figures.docx`.
  - [:file\_folder: figures](vignettes/figures): Plots and other
    illustrations, including supplemental
  - [:file\_folder: tables](vignettes/tables): Tables included in 
    the paper, including supplemental
    
## How to run the code?
To reproduce the analysis and output, you will need to clone this repository. Currently, some of the items can take a while to run, so for expediency we have saved some of the output along the way use `if` statements. If you would like to re-run the code, then after you have cloned the repository, you can run the interior contents within the `if` statements to reproduce the results. 

### Reproduce Analysis and Results
To reproduce the analysis and results, you will need to first clone this repository.

You can do so thus:

```bash
git clone https://github.com/Archaeo-Programmer/paleomat.git
cd paleomat
```

You can compile the paleomat analysis within R:

``` r
rmarkdown::render(here::here('vignettes/UUSS_MAT_Reconstruction.Rmd'), output_dir = here::here('vignettes/articles'))
```

Another option is to use the package itself to follow along with the RMarkdown and run the code line by line.

After installing the package (via `install_github` shown above), then you can follow along with the vignette, [:page\_facing\_up: UUSS_MAT_Reconstruction](vignettes/UUSS_MAT_Reconstruction.Rmd). To retrieve a readable html file, you go to [:page\_facing\_up: UUSS_MAT_Reconstruction.html](vignettes/UUSS_MAT_Reconstruction.html). Then, click "Raw" and save the file as "UUSS_MAT_Reconstruction.html" (be sure to use the html extension and save as HTML). Or you enter `rstudioapi::viewer(here::here('vignettes/UUSS_MAT_Reconstruction.html'))` into the R console.









